<% include header %>

<% if (histories.length > 0) { %>
    <% for (let i = 0; i < histories.length; i++) { %>
        <div class="col-12  mx-auto mt-3">
            <div class="card">
                <div class="card-header">
                    <h3>User order</h3>
                    <h5 class="card-subtitle text-muted">
                        Id: <%= histories[i]._userId %>
                    </h5>
                </div>
                <% for (let j = 0; j < histories[i].orders.length; j++) { %>
                    <div class="card-body px-2">
                        <h5 class="my-0 card-title">
                            <%= histories[i].orders[j].date %>
                        </h5>
                    </div>
                    <ul class="list-group list-group-flush">
                        <% for (let k = 0; k < histories[i].orders[j].items.length; k++) { %>
                            <li class="list-group-item">
                                    <%= histories[i].orders[j].items[k].itemName %>
                                    x<%= histories[i].orders[j].items[k].quantity %>
                            </li>
                        <% } %>
                    </ul>
                <% } %> 
            </div>
        </div>
    <% } %>
<% } else { %>
    <h3 class="m-3">No orders made yet.</h3>
<% } %>


<% include footer %>